# WordGLAM: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã GNN-–º–æ–¥–µ–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –ø–æ –æ–±—É—á–µ–Ω–∏—é –º–æ–¥–µ–ª–∏ —Ä–µ—à–∞—é—â–µ–π –∑–∞–¥–∞—á—É –ø–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é –∏ –∞–Ω–∞–ª–∏–∑—É —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –Ω–∞—É—á–Ω—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ö. –û—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö PubLayNet —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π PageR.

–í –ø–∞–ø–∫–∞—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞—Ö —Ñ–∞–π–ª test_result_*.txt - —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞.

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## ‚öôÔ∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ [PageR](https://github.com/YRL-AIDA/PageR)

## üìÇ –ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [PubLayNet](https://github.com/ibm-aur-nlp/PubLayNet):
- PDF-–¥–æ–∫—É–º–µ–Ω—Ç—ã
- –†–∞—Å—Ç—Ä–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
- –†–∞–∑–º–µ—Ç–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## üöÄ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å
### 0. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–∏—Å—Ç–µ–º—ã 
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∑–∞–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞–ø–∫–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∏ —Ñ–∞–π–ª .env:

```bash
EXPERIMENT="exp_04_countTag_and_size_k_big/exp_4_kTag_2"  # –¢–µ–∫—É—â–∏–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç

PATH_WORDS_AND_STYLES_JSONS=""  # –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∑–∞–≥–ª—É—à–∫–∞)
PATH_GRAPHS_JSONS="/home/daniil/micro_publaynet/tmp/big_graph_pdf"  # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è JSON-—Ñ–∞–π–ª–æ–≤ –≥—Ä–∞—Ñ–æ–≤

START=0  # –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∑–∞–≥–ª—É—à–∫–∞)
FINAL=1000  # –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∑–∞–≥–ª—É—à–∫–∞)

SAVE_FREQUENCY=10  # –ß–∞—Å—Ç–æ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ (–∫–∞–∂–¥—ã–µ 10 —ç–ø–æ—Ö)

# –ú–æ–¥–µ–ª—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç–∏–ª–µ–π (–ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ PageR)
PATH_STYLE_MODEL="/home/daniil/project/PageR/models/style_classmodel_20250121"

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
PATH_PUBLAYNET="/home/daniil/micro_publaynet/publaynet"  # –ö–æ—Ä–Ω–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è PubLayNet
PATH_PDF="/home/daniil/micro_publaynet/pdfs/"  # –•—Ä–∞–Ω–∏–ª–∏—â–µ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
PATH_TEST_DATASET="/home/daniil/micro_publaynet/publaynet"  # –¢–µ—Å—Ç–æ–≤—ã–π –¥–∞—Ç–∞—Å–µ—Ç
PATH_TEST_IMAGES="/home/daniil/micro_publaynet/publaynet/val"  # –í–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
PATH_TEST_JSON="/home/daniil/micro_publaynet/publaynet/val.json"  # –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
PATH_TEST_PDF="/home/daniil/micro_publaynet/pdfs/dev"  # PDF-—Ñ–∞–π–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

GLAM_NODE_MODEL=""  # –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∑–∞–≥–ª—É—à–∫–∞)
GLAM_EDGE_MODEL=""  # –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∑–∞–≥–ª—É—à–∫–∞)
GLAM_MODEL="glam_model"  # –ò–º—è –º–æ–¥–µ–ª–∏ (–ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —ç—Ç–∞–ø—ã –æ–±—É—á–µ–Ω–∏—è)

```

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON-–∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
python script_create_json_publaynet.py
# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
python publaynet_extractor.py
```

### 2. –ó–∞–ø—É—Å–∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é .env

```bash
# –£–∫–∞–∂–∏—Ç–µ EXPERIMENT –≤ .env
python script_train.py  # –æ–±—É—á–µ–Ω–∏–µ
python script_test.py   # —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

–°–ø–æ—Å–æ–± 2: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞

```bash
# –î–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
python exp_03_countTag_and_size_k/start_more_exp.py

# –í–Ω–∏–º–∞–Ω–∏–µ! –î–ª—è exp_03 –∏ exp_04 —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞:
# –£–¥–∞–ª–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
```

3. –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ—Ä—å
python script_plot_learning.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
python script_plot_document.py -i path/to/document.pdf
```

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python